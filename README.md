# 🏄🏼划水

#### 介绍

根据你的配置显示一个 Windows Update 画面, 然后你就可以正大光明的划水了.

这个项目是前段时间很火的 UWP 应用[摸鱼](https://www.microsoft.com/zh-cn/p/%E6%91%B8%E9%B1%BC/9ndj3q12nrrm?activetab=pivot:overviewtab)的 Web 版本, 在此基础上解决了一些小问题

#### 为什么要写这个项目

在 Microsoft Store 的介绍页中, "摸鱼"存在的问题以下问题

- 不能应付多屏幕: 在 Web 应用中, 我们打开多个网页, 使用原生的`localstorage`共享状态
- 不能隐藏鼠标指针: 在 Web 中, 我们可以控制 CSS 使得鼠标样式为不显示并通过 JS 限制鼠标的选取与拖拽

原生的 Web 特性就解决了存在的问题, 看来这个功能挺适合使用 Web 实现的

#### 使用指南

1. 打开页面后配置划水时间, 需要显示的前景色与背景色(提供 windows 预设的主题色表)
2. 点击开始划水就可以进入划水页面了
3. 按下 F11 将网页全屏, 右键即可切换鼠标是否显示
4. 如果您需要多屏显示: 在已有的划水页面(称之为主应用)后再打开一个新的划水页面(我们称之为从应用). 在从应用配置时, 若是检测到存在主应用则会提示您是否跟随显示
   - 选择"是", 从应用将直接开始划水, 并与主应用页面同步显示
   - 选择"否", 您可以创建一个仅对该会话有效的划水页面, 该页面不会跟随主应用状态, 不会被其他划水页面检测到
5. 关于主应用与从应用
   - 只能有一个主应用
   - 在配置页面中, 网页会自动判断是否有主应用存在, 如果没有则自动设为主应用
   - 在主应用结束计时并退出之前, 主应用将一直占用主应用名额(即使意外关闭)
   - 当主从应用都在工作且从应用设置为跟随模式时, 如果从应用检测到主应用被意外关闭, 从应用会自动切换为主应用为其他从应用服务
   - 当主应用被意外退出, 且没有从应用接管时, 主应用工作状态将会被保存, 当您下次打开划水页面时, 您仍可以恢复执行(先根据提示进入从应用跟随模式, 然后从应用会自动切换为主应用). 您也可以设置不恢复执行, 这需要您在配置中点击清空主进程来清除主应用执行状态.

#### 安装

```shell
# 安装pnpm
npm install -g pnpm

# 更新包
pnpm update

# 安装全部依赖
pnpm install

# 安装某个依赖
pnpm install xxx  -D/-S

# 运行
pnpm dev

# 打包
pnpm build
```
